# Практическая работа № 7
## Тема: "Подключение и работа с Redis (set/get, TTL). Реализация простого кэша."
## Подготовила: Сорокина К.С., ЭФМО-01-25.
### Выполнены следующие цели:
- Освоить базовые операции работы с Redis из Go-приложения.
-	Научиться использовать команды SET, GET, задавать время жизни ключей (TTL).
-	Реализовать кэширование данных для ускорения работы API.
-	Понять, в каких случаях кэш помогает снизить нагрузку на базу данных.

### Структура проекта:
```bash
pz7-redis/
  cmd/
    server/
      main.go
  go.mod
  internal/
    cache/
      cache.go
```
### Версия Redis:
![версия](https://github.com/krrristina/PR7/blob/9848d9bd4f1676cc0465573c2f471c531ff82c92/screenshots/redis.png)
### Команда для запуска сервера:
```bash
go run ./cmd/server
```

### Запуск сервера:
![запуск](https://github.com/krrristina/PR7/blob/9848d9bd4f1676cc0465573c2f471c531ff82c92/screenshots/%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0.png)

### Сохранение значения:
![сохранение](https://github.com/krrristina/PR7/blob/9848d9bd4f1676cc0465573c2f471c531ff82c92/screenshots/%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D1%8F.png)

### TTL:
![ttl](https://github.com/krrristina/PR7/blob/9848d9bd4f1676cc0465573c2f471c531ff82c92/screenshots/%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0%20ttl.png)

## Контрольные вопросы

### 1. Чем Redis отличается от реляционной БД?

Redis — это быстрое хранилище в оперативной памяти, которое работает с парами ключ-значение. Реляционная БД (как PostgreSQL) хранит данные на диске в таблицах и использует SQL-запросы.

Redis намного быстрее, но теряет данные при перезагрузке. Реляционная БД медленнее, но надёжнее и может обрабатывать сложные запросы.

### 2. Какие типы данных поддерживает Redis кроме строк?

Redis поддерживает:
- Списки (list) — для очередей и истории
- Множества (set) — для уникальных элементов и тегов
- Отсортированные множества (zset) — для рейтингов и лидербордов
- Хэши (hash) — для хранения объектов и профилей
- Битовые поля (bitmap) — для флагов и статистики
- Геоданные (geo) — для работы с координатами

### 3. Зачем нужен TTL? Приведите примеры.

TTL — это время жизни ключа. После истечения TTL Redis автоматически удаляет ключ.

Примеры:
- Сохранить сессию пользователя на 30 минут, потом она автоматически удалится
- Кэшировать список товаров на 5 минут, потом переполучить свежие данные
- Хранить одноразовый пароль на 5 минут для безопасности
- Сохранить результаты поиска на 1 час

### 4. Как Redis помогает снизить нагрузку на PostgreSQL?

Redis находится между приложением и БД. Когда нужны данные, приложение сначала проверяет Redis. Если данные есть — берёт оттуда. Если нет — идёт в PostgreSQL, получает данные и сохраняет в Redis.

Это уменьшает количество запросов к БД в 10 раз и больше, потому что часто запрашиваемые данные хранятся в быстром Redis, а не в медленной БД.

### 5. Что произойдёт, если ключ в Redis «протух» по TTL, а приложение попытается его прочитать?

Redis удалит ключ после истечения TTL. Когда приложение попытается прочитать удалённый ключ, Redis вернёт ошибку, что ключ не существует.
Приложение должно быть готово к этому: если ключа нет в Redis, нужно взять данные из PostgreSQL, вернуть их клиенту и снова сохранить в Redis с новым TTL.
